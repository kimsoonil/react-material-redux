{"ast":null,"code":"/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\nimport * as tslib_1 from \"tslib\";\nimport { Logger } from \"./Logger\";\nimport { UrlUtils } from \"./utils/UrlUtils\";\n/**\r\n * Defaults for the Configuration Options\r\n */\n\nvar FRAME_TIMEOUT = 6000;\nvar OFFSET = 300;\nvar NAVIGATE_FRAME_WAIT = 500;\nvar DEFAULT_AUTH_OPTIONS = {\n  clientId: \"\",\n  authority: null,\n  validateAuthority: true,\n  authorityMetadata: \"\",\n  knownAuthorities: [],\n  redirectUri: function () {\n    return UrlUtils.getCurrentUrl();\n  },\n  postLogoutRedirectUri: function () {\n    return UrlUtils.getCurrentUrl();\n  },\n  navigateToLoginRequestUrl: true\n};\nvar DEFAULT_CACHE_OPTIONS = {\n  cacheLocation: \"sessionStorage\",\n  storeAuthStateInCookie: false\n};\nvar DEFAULT_SYSTEM_OPTIONS = {\n  logger: new Logger(null),\n  loadFrameTimeout: FRAME_TIMEOUT,\n  tokenRenewalOffsetSeconds: OFFSET,\n  navigateFrameWait: NAVIGATE_FRAME_WAIT\n};\nvar DEFAULT_FRAMEWORK_OPTIONS = {\n  isAngular: false,\n  unprotectedResources: new Array(),\n  protectedResourceMap: new Map()\n};\n/**\r\n * MSAL function that sets the default options when not explicitly configured from app developer\r\n *\r\n * @param TAuthOptions\r\n * @param TCacheOptions\r\n * @param TSystemOptions\r\n * @param TFrameworkOptions\r\n * @param TAuthorityDataOptions\r\n *\r\n * @returns TConfiguration object\r\n */\n\nexport function buildConfiguration(_a) {\n  var auth = _a.auth,\n      _b = _a.cache,\n      cache = _b === void 0 ? {} : _b,\n      _c = _a.system,\n      system = _c === void 0 ? {} : _c,\n      _d = _a.framework,\n      framework = _d === void 0 ? {} : _d;\n  var overlayedConfig = {\n    auth: tslib_1.__assign({}, DEFAULT_AUTH_OPTIONS, auth),\n    cache: tslib_1.__assign({}, DEFAULT_CACHE_OPTIONS, cache),\n    system: tslib_1.__assign({}, DEFAULT_SYSTEM_OPTIONS, system),\n    framework: tslib_1.__assign({}, DEFAULT_FRAMEWORK_OPTIONS, framework)\n  };\n  return overlayedConfig;\n}","map":{"version":3,"sources":["../src/Configuration.ts"],"names":[],"mappings":"AAAA;;;AAGG;;AAEH,SAAS,MAAT,QAAuB,UAAvB;AACA,SAAS,QAAT,QAAyB,kBAAzB;AAUA;;AAEG;;AACH,IAAM,aAAa,GAAG,IAAtB;AACA,IAAM,MAAM,GAAG,GAAf;AACA,IAAM,mBAAmB,GAAG,GAA5B;AAgGA,IAAM,oBAAoB,GAAgB;AACtC,EAAA,QAAQ,EAAE,EAD4B;AAEtC,EAAA,SAAS,EAAE,IAF2B;AAGtC,EAAA,iBAAiB,EAAE,IAHmB;AAItC,EAAA,iBAAiB,EAAE,EAJmB;AAKtC,EAAA,gBAAgB,EAAE,EALoB;AAMtC,EAAA,WAAW,EAAE,YAAA;AAAM,WAAA,QAAQ,CAAR,aAAA,EAAA;AAAwB,GANL;AAOtC,EAAA,qBAAqB,EAAE,YAAA;AAAM,WAAA,QAAQ,CAAR,aAAA,EAAA;AAAwB,GAPf;AAQtC,EAAA,yBAAyB,EAAE;AARW,CAA1C;AAWA,IAAM,qBAAqB,GAAiB;AACxC,EAAA,aAAa,EAAE,gBADyB;AAExC,EAAA,sBAAsB,EAAE;AAFgB,CAA5C;AAKA,IAAM,sBAAsB,GAAkB;AAC1C,EAAA,MAAM,EAAE,IAAI,MAAJ,CAAW,IAAX,CADkC;AAE1C,EAAA,gBAAgB,EAAE,aAFwB;AAG1C,EAAA,yBAAyB,EAAE,MAHe;AAI1C,EAAA,iBAAiB,EAAE;AAJuB,CAA9C;AAOA,IAAM,yBAAyB,GAAqB;AAChD,EAAA,SAAS,EAAE,KADqC;AAEhD,EAAA,oBAAoB,EAAE,IAAI,KAAJ,EAF0B;AAGhD,EAAA,oBAAoB,EAAE,IAAI,GAAJ;AAH0B,CAApD;AAMA;;;;;;;;;;AAUG;;AAEH,OAAM,SAAU,kBAAV,CAA6B,EAA7B,EAA4F;MAA7D,IAAA,GAAA,EAAA,CAAA,I;MAAM,EAAA,GAAA,EAAA,CAAA,K;MAAA,KAAA,GAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,E;MAAY,EAAA,GAAA,EAAA,CAAA,M;MAAA,MAAA,GAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,E;MAAa,EAAA,GAAA,EAAA,CAAA,S;MAAA,SAAA,GAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,E;AAChE,MAAM,eAAe,GAAkB;AACnC,IAAA,IAAI,EAAA,OAAA,CAAA,QAAA,CAAA,EAAA,EAAO,oBAAP,EAAgC,IAAhC,CAD+B;AAEnC,IAAA,KAAK,EAAA,OAAA,CAAA,QAAA,CAAA,EAAA,EAAO,qBAAP,EAAiC,KAAjC,CAF8B;AAGnC,IAAA,MAAM,EAAA,OAAA,CAAA,QAAA,CAAA,EAAA,EAAO,sBAAP,EAAkC,MAAlC,CAH6B;AAInC,IAAA,SAAS,EAAA,OAAA,CAAA,QAAA,CAAA,EAAA,EAAO,yBAAP,EAAqC,SAArC;AAJ0B,GAAvC;AAMA,SAAO,eAAP;AACH","sourceRoot":"","sourcesContent":["/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\nimport { Logger } from \"./Logger\";\r\nimport { UrlUtils } from \"./utils/UrlUtils\";\r\n/**\r\n * Defaults for the Configuration Options\r\n */\r\nvar FRAME_TIMEOUT = 6000;\r\nvar OFFSET = 300;\r\nvar NAVIGATE_FRAME_WAIT = 500;\r\nvar DEFAULT_AUTH_OPTIONS = {\r\n    clientId: \"\",\r\n    authority: null,\r\n    validateAuthority: true,\r\n    authorityMetadata: \"\",\r\n    knownAuthorities: [],\r\n    redirectUri: function () { return UrlUtils.getCurrentUrl(); },\r\n    postLogoutRedirectUri: function () { return UrlUtils.getCurrentUrl(); },\r\n    navigateToLoginRequestUrl: true\r\n};\r\nvar DEFAULT_CACHE_OPTIONS = {\r\n    cacheLocation: \"sessionStorage\",\r\n    storeAuthStateInCookie: false\r\n};\r\nvar DEFAULT_SYSTEM_OPTIONS = {\r\n    logger: new Logger(null),\r\n    loadFrameTimeout: FRAME_TIMEOUT,\r\n    tokenRenewalOffsetSeconds: OFFSET,\r\n    navigateFrameWait: NAVIGATE_FRAME_WAIT\r\n};\r\nvar DEFAULT_FRAMEWORK_OPTIONS = {\r\n    isAngular: false,\r\n    unprotectedResources: new Array(),\r\n    protectedResourceMap: new Map()\r\n};\r\n/**\r\n * MSAL function that sets the default options when not explicitly configured from app developer\r\n *\r\n * @param TAuthOptions\r\n * @param TCacheOptions\r\n * @param TSystemOptions\r\n * @param TFrameworkOptions\r\n * @param TAuthorityDataOptions\r\n *\r\n * @returns TConfiguration object\r\n */\r\nexport function buildConfiguration(_a) {\r\n    var auth = _a.auth, _b = _a.cache, cache = _b === void 0 ? {} : _b, _c = _a.system, system = _c === void 0 ? {} : _c, _d = _a.framework, framework = _d === void 0 ? {} : _d;\r\n    var overlayedConfig = {\r\n        auth: tslib_1.__assign({}, DEFAULT_AUTH_OPTIONS, auth),\r\n        cache: tslib_1.__assign({}, DEFAULT_CACHE_OPTIONS, cache),\r\n        system: tslib_1.__assign({}, DEFAULT_SYSTEM_OPTIONS, system),\r\n        framework: tslib_1.__assign({}, DEFAULT_FRAMEWORK_OPTIONS, framework)\r\n    };\r\n    return overlayedConfig;\r\n}\r\n//# sourceMappingURL=Configuration.js.map"]},"metadata":{},"sourceType":"module"}